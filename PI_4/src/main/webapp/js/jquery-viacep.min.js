!function(n){var a="viacep.ajax.before",t="viacep.ajax.complete",o="viacep.ajax.error",r="viacep.ajax.success",p="viacep.response.error";function i(e,i){this.$form=n(e),this.options=n.extend({},n.fn.viacep.defaults,i),this.currZipcode=null,this.isRequesting=!1,this.apiUrl="https://viacep.com.br/ws/%s/json/",this.init()}i.prototype.init=function(){var t=this;this.$form.find(this.options.field_cep).on("change blur keyup",function(e){var i=n(this).val().replace(/[^0-9]/g,"");i&&t.currZipcode!==i&&8===i.length&&!t.isRequesting&&(t.isRequesting=!0,t.currZipcode=i,t.dispatch(a,{zipcode:i}).makeRequest(i))})},i.prototype.makeRequest=function(e){var a=this,c=e,i=this.apiUrl.replace(/%s/,c);n.getJSON(i,function(e){!function(e){return!e.error||(a.dispatch(p,{zipcode:c,msg:"Endereço não encontrado.",response:e}),!1)}(e)||(a.bind(e),a.dispatch(r,e))}).fail(function(e,i,t){a.current_zipcode=null,a.dispatch(o,{jqxhr:e,textStatus:i,error:t,zipcode:c})}).always(function(){a.isRequesting=!1,a.dispatch(t,{zipcode:c})})},i.prototype.bind=function(e){for(var i in e)"cep"!=i&&this.$form.find(this.options["field_"+i]).val(e[i]).trigger("change")},i.prototype.dispatch=function(e,i){return this.$form.trigger(e,i),this},n.fn.viacep=function(e){return this.each(function(){n.data(this,"plugin")||n.data(this,"plugin",new i(this,e))})},n.fn.viacep.defaults={container:"[data-viacep]",field_logradouro:"[data-viacep-endereco], .viacep-endereco",field_bairro:"[data-viacep-bairro], .viacep-bairro",field_localidade:"[data-viacep-cidade], .viacep-cidade",field_uf:"[data-viacep-estado], .viacep-estado",field_cep:"[data-viacep-cep], .viacep-cep"},n(document).ready(function(){n(n.fn.viacep.defaults.container).viacep()})}(jQuery);